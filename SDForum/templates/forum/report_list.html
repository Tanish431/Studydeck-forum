{% extends "base.html" %} {% block content %}
<h2>Pending Reports</h2>

{% if reports %}
<ul>
    {% for report in reports %}
    <li>
        <strong>Reported by:</strong> {{ report.reporter }} <br />

        {% if report.thread %}
        <strong>Thread:</strong>
        <a href="{% url 'forum:thread_detail' report.thread.pk %}">
            {{ report.thread.title }}
        </a>
        {% endif %} {% if report.reply %}
        <strong>Reply in:</strong>
        <a href="{% url 'forum:thread_detail' report.reply.thread.pk %}">
            {{ report.reply.thread.title }}
        </a>
        {% endif %}

        <p><strong>Reason:</strong> {{ report.reason }}</p>

        {% if report.status == "PENDING" %}
        <form
            method="post"
            action="{% url 'forum:report_delete' report.pk %}"
            style="display: inline"
        >
            {% csrf_token %}
            <button type="submit">Delete</button>
        </form>

        <form
            method="post"
            action="{% url 'forum:report_safe' report.pk %}"
            style="display: inline"
        >
            {% csrf_token %}
            <button type="submit">Mark Safe</button>
        </form>
        {% else %}
        <em>Resolved</em>
        {% endif %}

        <hr />
    </li>
    {% endfor %}
</ul>
{% else %}
<p>No pending reports</p>
{% endif %} {% endblock %}
